{
    "swagger": "2.0",
    "info": {
        "description": "Map service providing Google Maps API integration for Tabelogo platform",
        "title": "Tabelogo Map Service API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "API Support",
            "email": "support@tabelogo.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0"
    },
    "host": "localhost:8081",
    "basePath": "/api/v1",
    "paths": {
        "/api/v1/map/advance_search": {
            "post": {
                "description": "Search for places using text query and filters",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "map"
                ],
                "summary": "Advance search for places",
                "parameters": [
                    {
                        "description": "Advance search request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/http.AdvanceSearchRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/http.AdvanceSearchResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/api/v1/map/quick_search": {
            "post": {
                "description": "Get place details by place ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "map"
                ],
                "summary": "Quick search for a place",
                "parameters": [
                    {
                        "description": "Quick search request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/http.QuickSearchRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/http.QuickSearchResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/http.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "Check if the service is healthy",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Health check",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/http.HealthCheckResponse"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "http.AdvanceSearchRequest": {
            "type": "object",
            "required": [
                "language_code",
                "location_bias",
                "max_result_count",
                "rank_preference",
                "text_query"
            ],
            "properties": {
                "api_mask": {
                    "type": "string"
                },
                "language_code": {
                    "type": "string",
                    "enum": [
                        "en",
                        "ja",
                        "zh-TW"
                    ]
                },
                "location_bias": {
                    "$ref": "#/definitions/http.LocationBias"
                },
                "max_result_count": {
                    "type": "integer",
                    "maximum": 20,
                    "minimum": 1
                },
                "min_rating": {
                    "type": "number",
                    "maximum": 5,
                    "minimum": 0
                },
                "open_now": {
                    "type": "boolean"
                },
                "rank_preference": {
                    "type": "string",
                    "enum": [
                        "DISTANCE",
                        "RELEVANCE"
                    ]
                },
                "text_query": {
                    "type": "string"
                }
            }
        },
        "http.AdvanceSearchResponse": {
            "type": "object",
            "properties": {
                "places": {
                    "type": "array",
                    "items": {}
                },
                "search_metadata": {
                    "$ref": "#/definitions/http.SearchMetadata"
                },
                "total_count": {
                    "type": "integer"
                }
            }
        },
        "http.Coordinates": {
            "type": "object",
            "required": [
                "latitude",
                "longitude"
            ],
            "properties": {
                "latitude": {
                    "type": "number",
                    "maximum": 90,
                    "minimum": -90
                },
                "longitude": {
                    "type": "number",
                    "maximum": 180,
                    "minimum": -180
                }
            }
        },
        "http.ErrorResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer"
                },
                "error": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "timestamp": {
                    "type": "string"
                }
            }
        },
        "http.HealthCheckResponse": {
            "type": "object",
            "properties": {
                "dependencies": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "status": {
                    "type": "string"
                },
                "timestamp": {
                    "type": "string"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "http.LocationBias": {
            "type": "object",
            "required": [
                "rectangle"
            ],
            "properties": {
                "rectangle": {
                    "$ref": "#/definitions/http.Rectangle"
                }
            }
        },
        "http.QuickSearchRequest": {
            "type": "object",
            "required": [
                "language_code",
                "place_id"
            ],
            "properties": {
                "api_mask": {
                    "type": "string"
                },
                "language_code": {
                    "type": "string",
                    "enum": [
                        "en",
                        "ja",
                        "zh-TW"
                    ]
                },
                "place_id": {
                    "type": "string"
                }
            }
        },
        "http.QuickSearchResponse": {
            "type": "object",
            "properties": {
                "cached_at": {
                    "type": "string"
                },
                "result": {},
                "source": {
                    "type": "string"
                }
            }
        },
        "http.Rectangle": {
            "type": "object",
            "required": [
                "high",
                "low"
            ],
            "properties": {
                "high": {
                    "$ref": "#/definitions/http.Coordinates"
                },
                "low": {
                    "$ref": "#/definitions/http.Coordinates"
                }
            }
        },
        "http.SearchMetadata": {
            "type": "object",
            "properties": {
                "search_time_ms": {
                    "type": "integer"
                },
                "text_query": {
                    "type": "string"
                }
            }
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "Type \"Bearer\" followed by a space and JWT token.",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}